{% extends "main.html" %}

{% block content %}
<div class="card" style="width: 28rem;">
    <div class="card-header">
        <h2 class="card-title">Profile</h2>
    </div>
    <div class="card-body">
        <form method="post">
            {% csrf_token %}
            <input type="hidden" name="user_id" value="{{ user.id }}">
            <div class="form-group">
                <label>First name</label>
                <input name="first_name" class="form-control" placeholder="Name" type="text" value="{{ user_data.first_name }}">
            </div>
            <div class="form-group">
                <label>Last name</label>
                <input name="last_name" class="form-control" placeholder="Family" type="text" value="{{ user_data.last_name }}">
            </div>
            <div class="form-group">
                <label>Avatar</label>
                <div class="custom-file">
                    <input name="avatar" type="file" class="custom-file-input" id="customFile">
                    <label class="custom-file-label" for="customFile">Choose file</label>
                </div>
            </div>
            <div class="form-group">
                <label>Birth date</label>
                <input name="birth_date" class="form-control" type="date" value="{{ user_data.birth_date }}" min="1900-01-01">
            </div>
            <div class="form-group">
                <label>Bio</label>
                <textarea name="bio" placeholder="About me" class="form-control" rows="3">{{ user_data.bio }}</textarea>
            </div>

            <div class="row">
                <div class="col-md-4">
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary btn-block">Save</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

<style>
    .card {
        width: 400px;
        margin: 0 auto;
        float: none;
        margin-top: 50px;
    }

    .card-title {
        margin-bottom: 0rem;
    }
</style>

<script>
    $(".custom-file-input").on("change", function () {
        var fileName = $(this).val().split("\\").pop();
        $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
    });
</script>
{% endblock %}